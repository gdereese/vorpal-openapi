language: node_js

node_js:
  - 'node'
  - '8'
  - '7'

jobs:
  include:
    script: npm build
    script: npm license-check
    script: npm test
    deploy:
      provider: npm
      email: $NPM_EMAIL
      api_key: $NPM_API_TOKEN
      skip_cleanup: true
      on:
        tags: true